# sudo su -

# cd /etc/ansible

Create a playbook to fetch variables from a file

# vim variables.yml

file_path: /tmp/ansible_file
file_state: touch
pkg_name: tree
pkg_state: present


Save the file (:wq!)

# vim playbookvariables2.yml

- name: Fetch  Variables from a file
  hosts: webserver
  become: true
  vars_files:
   - variables.yml
  tasks:
  - name: Create a file on the hostserver
    file: path={{file_path}} state={{file_state}}
  - name: Install a package
    package: name={{pkg_name}} state={{pkg_state}}


# ansible-playbook playbookvariables2.yml -vv

Pass the value for a exisitng variable at runtime

# ansible-playbook playbookvariables2.yml --extra-vars file_path=/tmp/file2_ansible

===============================

Prompt for variable value at runtime -> usefule when we to enter password value at runtime

# vim playbookvaraibles3.yml

- name: Prompt the value to variable at runtime
  hosts: webserver
  become: true
  vars_prompt:
   - name: username
     prompt: Enter you user to be created
     private: false
   - name: password
     prompt: Enter the user password
     private: true
  tasks:
  - name: Create a user and password for the user on host server
    user: name={{username}} password={{password}}


save the file

# ansible-playbook playbookvaraibles3.yml










